<% content_for :title, @hero.name %>

<main class="mx-auto w-full max-w-4xl">
  <nav class="flex justify-center gap-3 p-4">
    <%= link_to "← Back to Heroes", heroes_path %>
    <%= link_to "Edit", edit_hero_path(@hero) if Current.user.admin? %>
    <%= button_to "Delete", @hero, class: "link", method: :delete, data: { turbo_confirm: "Are you sure you want to delete #{@hero.name}?" } if Current.user.admin? %>
  </nav>

  <article class="paper">
    <div class="flex max-sm:flex-col items-start gap-6 text-left">
      <figure class="md:flex-1 bg-stone-100 shadow-md border-4 border-white w-full h-64">
         <%= image_tag(url_for(@hero.portrait)) if @hero.portrait.present? %>
      </figure>

      <div class="md:flex-2 space-y-4">
        <h1 class="mb-2 font-bold text-gray-900 text-3xl"><%= @hero.name %></h1>
        <p class="text-stone-500 text-sm"><%= @hero.pronouns %> • <%= @hero.traits.map(&:name).join(" • ") %> • <%= @hero.role.humanize %></p>

        <%= @hero.backstory %>
      </div>
    </div>

    <div class="*:last:-z-1 justify-center grid sm:grid-cols-3 *:shadow-md pt-4 border-current/20 border-t-2 *:first:-rotate-1 *:last:rotate-1">
      <%= render @hero.traits %>
    </div>
  </article>
</main>
