<article id="<%= dom_id trait %>" class="flex flex-col bg-white shadow border-black/20 rounded-2xl w-full max-w-[3in] aspect-[4/6] overflow-clip [corner-shape:squircle]">
  <header class="flex flex-col flex-[2] justify-end bg-stone-200 bg-cover bg-center">
    <div class="flex max-sm:flex-col justify-between items-start md:items-end px-3 py-1">
      <h3 class="font-semibold text-2xl text-left text-balance"><%= trait.name %></h3>
      <p class="inline-block max-sm:-order-1 bg-yellow-500 my-1 px-1 py-px rounded font-bold text-xs"><%= trait.type %></p>
    </div>
  </header>

  <div class="flex flex-col flex-[3] gap-4 p-3 text-sm text-left">
    <p class="font-light italic text-pretty leading-snug"><%= trait.description %></p>

    <% if trait.abilities.present? && trait.abilities.any? %>
      <ul class="space-y-2 text-xs">
          <% trait.abilities.each do |name, description| %>
            <li>
              <strong class="font-black text-[0.8em] uppercase"><%= name %>:</strong> <%= description %>
            </li>
          <% end %>
      </ul>
    <% end %>
  </div>

  <% if trait.cover.attached? %>
    <style>
      #<%= dom_id trait%> header {
        background-image: url(<%= url_for trait.cover %>);
      }
    </style>
    <% end %>
</article>
